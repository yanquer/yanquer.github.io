skel.registerPlugin("panels",function(){var d={config:{baseZIndex:1e4,useTransform:!0,transformBreakpoints:null,speed:250,panels:{},overlays:{}},cache:{panels:{},overlays:{},body:null,window:null,pageWrapper:null,defaultWrapper:null,fixedWrapper:null,activePanel:null},eventType:"click",positions:{panels:{top:["top","left"],right:["top","right"],bottom:["bottom","left"],left:["top","left"]},overlays:{"top-left":{top:0,left:0},"top-right":{top:0,right:0},top:{top:0,left:"50%"},"top-center":{top:0,left:"50%"},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},bottom:{bottom:0,left:"50%"},"bottom-center":{bottom:0,left:"50%"},left:{top:"50%",left:0},"middle-left":{top:"50%",left:0},right:{top:"50%",right:0},"middle-right":{top:"50%",right:0}}},presets:{standard:{panels:{navPanel:{breakpoints:"mobile",position:"left",style:"push",size:"80%",html:'<div data-action="navList" data-args="nav"></div>'}},overlays:{titleBar:{breakpoints:"mobile",position:"top-left",width:"100%",height:44,html:'<span class="toggle" data-action="togglePanel" data-args="navPanel"></span><span class="title" data-action="copyHTML" data-args="logo"></span>'}}}},defaults:{config:{panel:{breakpoints:"",position:null,style:null,size:"80%",html:"",resetScroll:!0,resetForms:!0,swipeToClose:!0},overlay:{breakpoints:"",position:null,width:0,height:0,html:""}}},recalcW:function(e){var s=parseInt(e);return s="string"==typeof e&&"%"==e.charAt(e.length-1)?Math.floor(jQuery(window).width()*(s/100)):s},recalcH:function(e){var s=parseInt(e);return s="string"==typeof e&&"%"==e.charAt(e.length-1)?Math.floor(jQuery(window).height()*(s/100)):s},getHalf:function(e){var s=parseInt(e);return"string"==typeof e&&"%"==e.charAt(e.length-1)?Math.floor(s/2)+"%":Math.floor(s/2)+"px"},parseSuspend:function(e){e=e.get(0);e._skel_panels_suspend&&e._skel_panels_suspend()},parseResume:function(e){e=e.get(0);e._skel_panels_resume&&e._skel_panels_resume()},parseInit:function(e){var s,n,t,a,i=e.get(0),o=e.attr("data-action"),c=e.attr("data-args");switch(o&&(c=c&&c.split(",")),o){case"togglePanel":case"panelToggle":e.css("-webkit-tap-highlight-color","rgba(0,0,0,0)").css("cursor","pointer"),s=function(e){if(e.preventDefault(),e.stopPropagation(),d.cache.activePanel)return d.cache.activePanel._skel_panels_close(),!1;jQuery(this);e=d.cache.panels[c[0]];e.is(":visible")?e._skel_panels_close():e._skel_panels_open()},"android"==d._.vars.deviceType||"wp"==d._.vars.deviceType?e.bind("click",s):e.bind(d.eventType,s);break;case"navList":s=(t=jQuery("#"+c[0])).find("a"),n=[],s.each(function(){var e=jQuery(this),s=Math.max(0,e.parents("li").length-1);n.push('<a class="link depth-'+s+'" href="'+e.attr("href")+'"><span class="indent-'+s+'"></span>'+e.text()+"</a>")}),0<n.length&&e.html("<nav>"+n.join("")+"</nav>"),e.find(".link").css("cursor","pointer").css("display","block");break;case"copyText":t=jQuery("#"+c[0]),e.html(t.text());break;case"copyHTML":t=jQuery("#"+c[0]),e.html(t.html());break;case"moveElementContents":t=jQuery("#"+c[0]),i._skel_panels_resume=function(){console.log("moving element contents"),t.children().each(function(){e.append(jQuery(this))})},i._skel_panels_suspend=function(){console.log("returning element contents"),e.children().each(function(){t.append(jQuery(this))})},i._skel_panels_resume();break;case"moveElement":t=jQuery("#"+c[0]),i._skel_panels_resume=function(){console.log("moving element"),jQuery('<div id="skel-panels-tmp-'+t.attr("id")+'" />').insertBefore(t),e.append(t)},i._skel_panels_suspend=function(){console.log("returning element"),jQuery("#skel-panels-tmp-"+t.attr("id")).replaceWith(t)},i._skel_panels_resume();break;case"moveCell":t=jQuery("#"+c[0]),a=jQuery("#"+c[1]),i._skel_panels_resume=function(){console.log("moving cell"),jQuery('<div id="skel-panels-tmp-'+t.attr("id")+'" />').insertBefore(t),e.append(t),t.css("width","auto"),a&&a._skel_panels_expandCell()},i._skel_panels_suspend=function(){console.log("returning cell"),jQuery("#skel-panels-tmp-"+t.attr("id")).replaceWith(t),t.css("width",""),a&&a.css("width","")},i._skel_panels_resume()}},lockView:function(e){d.cache.window._skel_panels_scrollPos=d.cache.window.scrollTop(),d._.vars.isTouch&&d.cache.body.css("overflow-"+e,"hidden"),d.cache.pageWrapper.bind("touchstart.lock",function(e){e.preventDefault(),e.stopPropagation(),d.cache.activePanel&&d.cache.activePanel._skel_panels_close()}),d.cache.pageWrapper.bind("click.lock",function(e){e.preventDefault(),e.stopPropagation(),d.cache.activePanel&&d.cache.activePanel._skel_panels_close()}),d.cache.pageWrapper.bind("scroll.lock",function(e){e.preventDefault(),e.stopPropagation(),d.cache.activePanel&&d.cache.activePanel._skel_panels_close()}),d.cache.window.bind("orientationchange.lock",function(e){d.cache.activePanel&&d.cache.activePanel._skel_panels_close()}),d._.vars.isTouch||(d.cache.window.bind("resize.lock",function(e){d.cache.activePanel&&d.cache.activePanel._skel_panels_close()}),d.cache.window.bind("scroll.lock",function(e){d.cache.activePanel&&d.cache.activePanel._skel_panels_close()}))},unlockView:function(e){d._.vars.isTouch&&d.cache.body.css("overflow-"+e,"visible"),d.cache.pageWrapper.unbind("touchstart.lock"),d.cache.pageWrapper.unbind("click.lock"),d.cache.pageWrapper.unbind("scroll.lock"),d.cache.window.unbind("orientationchange.lock"),d._.vars.isTouch||(d.cache.window.unbind("resize.lock"),d.cache.window.unbind("scroll.lock"))},resumeElement:function(e){d.cache[e.type+"s"][e.id].find("*").each(function(){d.parseResume(jQuery(this))}),console.log(e.id+": "+e.type+" resumed")},suspendElement:function(e){var s=d.cache[e.type+"s"][e.id];s._skel_panels_translateOrigin(),s.find("*").each(function(){d.parseSuspend(jQuery(this))}),console.log(e.id+": "+e.type+" suspended")},initElement:function(e){var s,a=e.config,i=jQuery(e.object);switch((d.cache[e.type+"s"][e.id]=i)._skel_panels_init(),i.find("*").each(function(){d.parseInit(jQuery(this))}),e.type){case"panel":switch(i.addClass("skel-panels-panel").css("z-index",d.config.baseZIndex).css("position","fixed").hide(),i.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)").bind("click.skel-panels",function(e){var s,n,t=jQuery(this);d.cache.activePanel&&!t.hasClass("skel-panels-ignore")&&(e.preventDefault(),e.stopPropagation(),s=t.attr("href"),n=t.attr("target"),d.cache.activePanel._skel_panels_close(),t.hasClass("skel-panels-ignoreHref")||window.setTimeout(function(){"_blank"==n&&"wp"!=d._.vars.deviceType?window.open(s):window.location.href=s},d.config.speed+10))}),"ios"==d._.vars.deviceType&&i.find("input,select,textarea").focus(function(e){var n=jQuery(this);e.preventDefault(),e.stopPropagation(),window.setTimeout(function(){var e=d.cache.window._skel_panels_scrollPos,s=d.cache.window.scrollTop()-e;d.cache.window.scrollTop(e),d.cache.activePanel.scrollTop(d.cache.activePanel.scrollTop()+s),n.hide(),window.setTimeout(function(){n.show()},0)},100)}),a.position){case"top":case"bottom":var n="bottom"==a.position?"-":"";i.addClass("skel-panels-panel-"+a.position).data("skel-panels-panel-position",a.position).css("height",d.recalcH(a.size)).scrollTop(0),d._.vars.isTouch?i.css("overflow-y","scroll").css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch").bind("touchstart",function(e){i._posY=e.originalEvent.touches[0].pageY,i._posX=e.originalEvent.touches[0].pageX}).bind("touchmove",function(e){i._posX,e.originalEvent.touches[0].pageX;var e=i._posY-e.originalEvent.touches[0].pageY,s=i.outerHeight(),n=i.get(0).scrollHeight-i.scrollTop();if(0==i.scrollTop()&&e<0||s-2<n&&n<s+2&&0<e)return!1}):i.css("overflow-y","auto"),a.style,i._skel_panels_open=function(){i._skel_panels_promote().scrollTop(0).css("left","0px").css(a.position,"-"+d.recalcH(a.size)+"px").css("height",d.recalcH(a.size)).css("width","100%").show(),a.resetScroll&&i.scrollTop(0),a.resetForms&&i._skel_panels_resetForms(),d.lockView("y"),window.setTimeout(function(){i.add(d.cache.fixedWrapper.children()).add(d.cache.pageWrapper)._skel_panels_translate(0,n+d.recalcH(a.size)),d.cache.activePanel=i},100)},i._skel_panels_close=function(){i.find("*").blur(),i.add(d.cache.pageWrapper).add(d.cache.fixedWrapper.children())._skel_panels_translateOrigin(),window.setTimeout(function(){d.unlockView("y"),i._skel_panels_demote().hide(),d.cache.activePanel=null},d.config.speed+50)};break;case"left":case"right":n="right"==a.position?"-":"";switch(i.addClass("skel-panels-panel-"+a.position).data("skel-panels-panel-position",a.position).css("width",d.recalcW(a.size)).scrollTop(0),d._.vars.isTouch?i.css("overflow-y","scroll").css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch").bind("touchstart",function(e){i._posY=e.originalEvent.touches[0].pageY,i._posX=e.originalEvent.touches[0].pageX}).bind("touchmove",function(e){var s=i._posX-e.originalEvent.touches[0].pageX,e=i._posY-e.originalEvent.touches[0].pageY,n=i.outerHeight(),t=i.get(0).scrollHeight-i.scrollTop();return a.swipeToClose&&e<20&&-20<e&&("left"==a.position&&50<s||"right"==a.position&&s<-50)?(i._skel_panels_close(),!1):!(0==i.scrollTop()&&e<0||n-2<t&&t<n+2&&0<e)&&void 0}):i.css("overflow-y","auto"),a.style){case"push":default:i._skel_panels_open=function(){i._skel_panels_promote().scrollTop(0).css("top","0px").css(a.position,"-"+d.recalcW(a.size)+"px").css("width",d.recalcW(a.size)).css("height","100%").show(),a.resetScroll&&i.scrollTop(0),a.resetForms&&i._skel_panels_resetForms(),d.lockView("x"),window.setTimeout(function(){i.add(d.cache.fixedWrapper.children()).add(d.cache.pageWrapper)._skel_panels_translate(n+d.recalcW(a.size),0),d.cache.activePanel=i},100)},i._skel_panels_close=function(){i.find("*").blur(),i.add(d.cache.fixedWrapper.children()).add(d.cache.pageWrapper)._skel_panels_translateOrigin(),window.setTimeout(function(){d.unlockView("x"),i._skel_panels_demote().hide(),d.cache.activePanel=null},d.config.speed+50)};break;case"reveal":i._skel_panels_open=function(){d.cache.fixedWrapper._skel_panels_promote(2),d.cache.pageWrapper._skel_panels_promote(1),i.scrollTop(0).css("top","0px").css(a.position,"0px").css("width",d.recalcW(a.size)).css("height","100%").show(),a.resetScroll&&i.scrollTop(0),a.resetForms&&i._skel_panels_resetForms(),d.lockView("x"),window.setTimeout(function(){d.cache.pageWrapper.add(d.cache.fixedWrapper.children())._skel_panels_translate(n+d.recalcW(a.size),0),d.cache.activePanel=i},100)},i._skel_panels_close=function(){i.find("*").blur(),d.cache.pageWrapper.add(d.cache.fixedWrapper.children())._skel_panels_translateOrigin(),window.setTimeout(function(){d.unlockView("x"),i.hide(),d.cache.pageWrapper._skel_panels_demote(),d.cache.pageWrapper._skel_panels_demote(),d.cache.activePanel=null},d.config.speed+50)}}}break;case"overlay":i.css("z-index",d.config.baseZIndex).css("position","fixed").addClass("skel-panels-overlay"),i.css("width",a.width).css("height",a.height),(s=d.positions.overlays[a.position])||(a.position="top-left",s=d.positions.overlays[a.position]),i.addClass("skel-panels-overlay-"+a.position).data("skel-panels-overlay-position",a.position),d._.iterate(s,function(e){i.css(e,s[e]),"50%"==s[e]&&("top"==e?i.css("margin-top","-"+d.getHalf(a.height)):"left"==e&&i.css("margin-left","-"+d.getHalf(a.width)))})}console.log(e.id+": "+e.type+" initialized!")},initElements:function(n){var t,a,i,o=[];d._.iterate(d.config[n+"s"],function(s){t={},d._.extend(t,d.defaults.config[n]),d._.extend(t,d.config[n+"s"][s]),d.config[n+"s"][s]=t,(a=d._.newDiv(t.html)).id=s,a.className="skel-panels-"+n,t.html||(o[s]=a),i=t.breakpoints?t.breakpoints.split(","):d._.breakpointList,d._.iterate(i,function(e){e=d._.cacheBreakpointElement(i[e],s,a,"overlay"==n?"skel_panels_fixedWrapper":"skel_panels_defaultWrapper",2);e.config=t,e.initialized=!1,e.type=n,e.onAttach=function(){this.initialized?d.resumeElement(this):(d.initElement(this),this.initialized=!0)},e.onDetach=function(){d.suspendElement(this)}})}),d._.DOMReady(function(){var s,n;d._.iterate(o,function(e){s=jQuery("#"+e),n=jQuery(o[e]),s.children().appendTo(n),s.remove()})})},initJQueryUtilityFuncs:function(){var p;jQuery.fn._skel_panels_promote=function(e){return this._zIndex=this.css("z-index"),this.css("z-index",d.config.baseZIndex+(e||1)),this},jQuery.fn._skel_panels_demote=function(){return this._zIndex&&(this.css("z-index",this._zIndex),this._zIndex=null),this},jQuery.fn._skel_panels_xcssValue=function(e,s){return jQuery(this).css(e,"-moz-"+s).css(e,"-webkit-"+s).css(e,"-o-"+s).css(e,"-ms-"+s).css(e,s)},jQuery.fn._skel_panels_xcssProperty=function(e,s){return jQuery(this).css("-moz-"+e,s).css("-webkit-"+e,s).css("-o-"+e,s).css("-ms-"+e,s).css(e,s)},jQuery.fn._skel_panels_xcss=function(e,s){return jQuery(this).css("-moz-"+e,"-moz-"+s).css("-webkit-"+e,"-webkit-"+s).css("-o-"+e,"-o-"+s).css("-ms-"+e,"-ms-"+s).css(e,s)},jQuery.fn._skel_panels_resetForms=function(){var e=jQuery(this);return jQuery(this).find("form").each(function(){this.reset()}),e},jQuery.fn._skel_panels_initializeCell=function(){var e=jQuery(this);e.attr("class").match(/(\s+|^)([0-9]+)u(\s+|$)/)&&e.data("cell-size",parseInt(RegExp.$2))},jQuery.fn._skel_panels_expandCell=function(){var e=jQuery(this),s=e.parent(),n=12;s.children().each(function(){var e=jQuery(this).attr("class");e&&e.match(/(\s+|^)([0-9]+)u(\s+|$)/)&&(n-=parseInt(RegExp.$2))}),0<n&&(e._skel_panels_initializeCell(),e.css("width",(e.data("cell-size")+n)/12*100+"%"))},d.config.useTransform&&10<=d._.vars.IEVersion&&(!d.config.transformBreakpoints||d._.hasActive(d.config.transformBreakpoints.split(",")))?(jQuery.fn._skel_panels_translateOrigin=function(){return jQuery(this)._skel_panels_translate(0,0)},jQuery.fn._skel_panels_translate=function(e,s){return jQuery(this).css("transform","translate("+e+"px, "+s+"px)")},jQuery.fn._skel_panels_init=function(){return jQuery(this).css("backface-visibility","hidden").css("perspective","500")._skel_panels_xcss("transition","transform "+d.config.speed/1e3+"s ease-in-out")}):(p=[],d.cache.window.resize(function(){var e;0!=d.config.speed&&(e=d.config.speed,d.config.speed=0,window.setTimeout(function(){d.config.speed=e,p=[]},e))}),jQuery.fn._skel_panels_translateOrigin=function(){for(var e=0;e<this.length;e++){var s=this[e],n=jQuery(s);p[s.id]&&n.animate(p[s.id],d.config.speed,"swing",function(){d._.iterate(p[s.id],function(e){n.css(e,p[s.id][e])}),d.cache.body.css("overflow-x","visible"),d.cache.pageWrapper.css("width","auto").css("padding-bottom",0)})}return jQuery(this)},jQuery.fn._skel_panels_translate=function(n,t){var e,s,i,o;for(n=parseInt(n),t=parseInt(t),0!=n?(d.cache.body.css("overflow-x","hidden"),d.cache.pageWrapper.css("width",d.cache.window.width())):i=function(){d.cache.body.css("overflow-x","visible"),d.cache.pageWrapper.css("width","auto")},t<0?d.cache.pageWrapper.css("padding-bottom",Math.abs(t)):o=function(){d.cache.pageWrapper.css("padding-bottom",0)},e=0;e<this.length;e++){var c,l=this[e],r=jQuery(l);if(!p[l.id])if(c=d.positions.overlays[r.data("skel-panels-overlay-position")])p[l.id]=c;else if(c=d.positions.panels[r.data("skel-panels-panel-position")])for(p[l.id]={},s=0;c[s];s++)p[l.id][c[s]]=parseInt(r.css(c[s]));else c=r.position(),p[l.id]={top:c.top,left:c.left};a={},d._.iterate(p[l.id],function(e){var s;switch(e){case"top":s=d.recalcH(p[l.id][e])+t;break;case"bottom":s=d.recalcH(p[l.id][e])-t;break;case"left":s=d.recalcW(p[l.id][e])+n;break;case"right":s=d.recalcW(p[l.id][e])-n}a[e]=s}),r.animate(a,d.config.speed,"swing",function(){i&&i(),o&&o()})}return jQuery(this)},jQuery.fn._skel_panels_init=function(){return jQuery(this).css("position","absolute")})},initObjects:function(){d.cache.window=jQuery(window),d.cache.window.on("load",function(){0==d.cache.window.scrollTop()&&window.scrollTo(0,1)}),d._.DOMReady(function(){d.cache.body=jQuery("body"),d.cache.body.wrapInner('<div id="skel-panels-pageWrapper" />'),d.cache.pageWrapper=jQuery("#skel-panels-pageWrapper"),d.cache.pageWrapper.css("position","relative").css("left","0").css("right","0").css("top","0")._skel_panels_init(),d.cache.defaultWrapper=jQuery('<div id="skel-panels-defaultWrapper" />').appendTo(d.cache.body),d.cache.defaultWrapper.css("height","100%"),d.cache.fixedWrapper=jQuery('<div id="skel-panels-fixedWrapper" />').appendTo(d.cache.body),d.cache.fixedWrapper.css("position","relative"),jQuery(".skel-panels-fixed").appendTo(d.cache.fixedWrapper),d._.registerLocation("skel_panels_defaultWrapper",d.cache.defaultWrapper[0]),d._.registerLocation("skel_panels_fixedWrapper",d.cache.fixedWrapper[0]),d._.registerLocation("skel_panels_pageWrapper",d.cache.pageWrapper[0]),$("[autofocus]").focus()})},initIncludes:function(){d._.DOMReady(function(){jQuery(".skel-panels-include").each(function(){d.parseInit(jQuery(this))})})},init:function(){d.eventType=d._.vars.isTouch?"touchend":"click",("android"==d._.vars.deviceType&&d._.vars.deviceVersion<4||"wp"==d._.vars.deviceType)&&(d.config.useTransform=!1),d.initObjects(),d.initJQueryUtilityFuncs(),d.initElements("overlay"),d.initElements("panel"),d.initIncludes(),d._.updateState()}};return d}());