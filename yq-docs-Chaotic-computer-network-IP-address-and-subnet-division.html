
<!DOCTYPE HTML>
<!--
	Dopetrope 2.0 by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html data-theme="dark">
	<head>
			<title>书言</title>
			<meta http-equiv="content-type" content="text/html; charset=utf-8" />
			<meta charset="utf-8" />

			<!-- <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900,300italic" rel="stylesheet" /> -->
			<link rel="stylesheet" href="/theme/css/custom-pygment.css" />
			<noscript>
				<link rel="stylesheet" href="/theme/css/skel-noscript.css" />
				<link rel="stylesheet" href="/theme/css/style.css" />
				<link rel="stylesheet" href="/theme/css/style-desktop.css" />
			</noscript>

		<!-- tipuesearch 放在这, 因为搜索框是全局定义的 -->
		<link rel="stylesheet" href="/theme//Tipue-Search-5.0.0/tipuesearch.css" />
		<link rel="stylesheet" href="/theme//Tipue-Search-5.0.0/custom/tipuesearch-custom.css" />
		<link rel="stylesheet" href="/theme/css/alabaster.css" />
		<link rel="stylesheet" href="/theme/css/custom-alabaster.css" />
		<!-- <link rel="stylesheet" href="/theme/fontawesome-free-6.5.1-web/css/all.min.css" /> -->
		<!--  <link rel="preload" as="font" type="font/woff2" crossorigin href="/theme/fontawesome-free-6.5.1-web/webfonts/fa-brands-400.woff2" />
		<link rel="preload" as="font" type="font/woff2" crossorigin href="/theme/fontawesome-free-6.5.1-web/webfonts/fa-regular-400.woff2" />
		<link rel="preload" as="font" type="font/woff2" crossorigin href="/theme/fontawesome-free-6.5.1-web/webfonts/fa-solid-900.woff2" />
		<link rel="preload" as="font" type="font/woff2" crossorigin href="/theme/fontawesome-free-6.5.1-web/webfonts/fa-v4compatibility.woff2" /> -->


	</head>
	<body class="no-sidebar">

		<!-- 内容 -->
		<div>

			<!-- Header Wrapper -->
			<div id="header-wrapper">
				<div class="container">
					<div class="row">
						<div class="12u">

							<!-- Header -->
								<section id="header">

									<!-- Logo -->
									<div class="page-home">
										<h1><a href="/">HOME</a></h1>
									</div>

									<!-- Nav -->
									<div class="page-menu">
										<nav id="nav">
											<ul>

												<!-- categories -->
														<li ><a href="/category/ai.html">AI</a></li>
														<li ><a href="/category/an-quan.html">安全</a></li>
														<li ><a href="/category/ban-ben-kong-zhi.html">版本控制</a></li>
														<li ><a href="/category/cao-zuo-xi-tong.html">操作系统</a></li>
														<li ><a href="/category/chang-yong-gong-ju-shi-yong.html">常用工具使用</a></li>
														<li ><a href="/category/da-shu-ju.html">大数据</a></li>
														<li><a href="/categories.html">More...</a></li>
											</ul>
										</nav>
									</div>
								</section>

						</div>
					</div>
					<div class="row page-head-search">
						<form class="navbar-search" action="/search.html" role="search">
							<!-- <button class="fa-solid fa-magnifying-glass" type="submit"></button> -->
							<button type="submit"></button>
							<input type="text" name="q" id="tipue_search_input" autocomplete="off" placeholder="Search...">
							<!-- <i class="fa-solid fa-magnifying-glass"></i> -->
						</form>
					</div>
  <div class="row page-head page-article persistent">
    <div class="page-head-title">
      <h2>IP地址与子网划分</h2>
    </div>
    <div class="page-head-content">
      By
	  <a href="author/yanque.html">YanQue</a>
      , 09 三月 2024
      , Category:
	  <a href="category/ji-suan-ji-wang-luo.html">计算机网络</a>
    </div>
	<div class="red-line">
    </div>
  </div>
				</div>

				<!-- 头部下方动效 -->
				<div class="waves-area">
					<section class="main-hero-waves-area waves-area">
						<svg class="waves-svg" preserveAspectRatio="none" shape-rendering="auto" viewBox="0 24 150 28"
							 xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
							<defs>
								<path
										d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"
										id="gentle-wave"></path>
							</defs>
							<g class="parallax">
								<use href="#gentle-wave" x="48" y="0"></use>
								<use href="#gentle-wave" x="48" y="3"></use>
								<use href="#gentle-wave" x="48" y="5"></use>
								<use href="#gentle-wave" x="48" y="7"></use>
							</g>
						</svg>
					</section>
				</div>

			</div>

		<!-- Main Wrapper -->
			<div id="main-wrapper">
				<div class="container">
<div class="row">
	<div class="12u">
			<section>
				<div>
					<div class="row">
						<div class="12u skel-cell-mainContent">
							<!-- Content -->
								<article class="box is-post">
									<div class="box-head">
										<div class="post-infos">
											<ul class="tags">
												<li><a class="button" href="category/ji-suan-ji-wang-luo.html">计算机网络</a></li>
											</ul>
										</div>

										<div class="pennant pennant-alt date">2024-03-09</div>
										<h2>IP地址与子网划分</h2>

										<span class="head-modify-time">修改于: 2024-03-09</span>

									</div>
									<p>IP地址是一个 <strong>32位的二进制</strong> 地址，被分为4个8位段（八位组）。
人们不习惯使用32的二进制地址或8位的二进制八位组，
所以IP地址最常用的表达形式是 <strong>点分十进制</strong> 形式。</p>
<dl class="docutils">
<dt>关键字:</dt>
<dd><ul class="first last simple">
<li>IPv4</li>
</ul>
</dd>
</dl>
<div class="section" id="ip-1">
<h2>IP地址分类</h2>
<p>IP地址中一部分是 <strong>网络ID</strong>，另一部分是 <strong>主机ID</strong>，
地址分类系统把IP地址划分为不同的地址类：</p>
<ul class="simple">
<li><strong>A类地址</strong>：IP地址的前 <strong>8</strong> 位表示网络ID，后24位表示主机ID</li>
<li><strong>B类地址</strong>：IP地址的前 <strong>16</strong> 位表示网络ID，后16位表示主机ID</li>
<li><strong>C类地址</strong>：IP地址的前 <strong>24</strong> 位表示网络ID，后8位表示主机ID</li>
</ul>
<p>使用的位数越多，包含的组合就越多，可知A类地址较少的网络ID，
但每个网络都具有大量的可用主机ID。
<strong>那计算机或路由器是如何将一个IP地址解释为A类、B类还是C类呢？</strong>
其实二进制的前几位就是用来地址分类.</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<ul class="last simple">
<li>D类地址，前4位为1110，用于多播（组播）</li>
<li>E类地址，前5位为11110，实验性质的，不用于生产环境</li>
<li><strong>排除地址</strong> 指的是 <strong>私有IP地址</strong>，用于本地局域网的IP地址分配</li>
</ul>
</div>
</div>
<div class="section" id="ip-2">
<h2>特殊的IP地址</h2>
<ul class="simple">
<li><strong>全0</strong> 主机ID：表示 <strong>网络本身</strong>，如IP地址129.152.0.0是指网络ID为129.152的B类网络</li>
<li><strong>全1</strong> 主机ID：表示 <strong>广播地址</strong>，如IP地址129.152.255.255是指网络ID为129.152的B类网络的广播地址</li>
<li>十进制 <strong>127开头</strong> 的地址： <strong>环回地址</strong>，用于测试自身TCP/IP软件是否正常，如ping自己127.0.0.1</li>
</ul>
</div>
<div class="section" id="section-1">
<h2>子网掩码</h2>
<p>子网掩码是需要配合IP地址一起使用的，用于指示IP地址的前多少比特是网络ID，后多少比特是主机ID。</p>
<p>A、B、C类地址均有默认的掩码，也称固定掩码：</p>
</div>
<div class="section" id="section-2">
<h2>子网划分</h2>
<p>子网划分是 <strong>从主机号字段借用若干位比特</strong>，
把物理网络分解为更小的逻辑实体（称为子网）的一种手段，从而可以更加充分的利用有限的IP地址资源。</p>
<p>将初始网络分段，必须设计一种编址方案，
能够识别出大型网络中的每个子网。一台特定主机可以通过以下三项被唯一识别：</p>
<ul class="simple">
<li><strong>网络号</strong> 唯一地指定主机所在网路（如果网络是公共互联网，网络号就是表示网络的地址，包括了其所有的子网）</li>
<li><strong>子网号</strong> 唯一的指定了一个子网（初始网络内部的子网），一个子网内部包含若干主机</li>
<li><strong>主机号</strong> 唯一地指定了子网内的某台主机</li>
</ul>
</div>
<div class="section" id="section-3">
<h2>子网划分的几个步骤</h2>
<ol class="arabic simple">
<li>确定需要的 <strong>子网个数</strong></li>
<li>确定一个 <strong>子网内可能的最多主机数量</strong></li>
<li>确定从主机号字段 <strong>借用的比特数</strong> ，用于创建子网号字段</li>
<li>确定主机号字段需要 <strong>保留的比特数</strong> （不能被子网字段借用的比特数）</li>
<li>确定 <strong>原始</strong> 网络号字段和主机号字段的比特数</li>
<li>检查以确保被借用的比特数 <strong>没有超过</strong> 被保留的比特数（即检查子网划分问题是可解的）</li>
<li>设置 <strong>子网号字段的最佳长度</strong>，包括为未来增长预留空间</li>
<li>创建一个修改（自定义）的 <strong>子网掩码</strong></li>
<li>确定 <strong>有效的子网号</strong></li>
<li>确定每个子网的 <strong>IP地址有效范围</strong></li>
</ol>
</div>
<div class="section" id="section-4">
<h2>子网划分举例</h2>
<p>问题：有一个C类地址193.200.35.0，分配给某个组织，
该组织需要两个子网，每个子网的主机数不会超过30台。</p>
<p>分析：子网数S=2，每个子网内最多的主机数H=30，C类地址的主机位比特T=8</p>
<ol class="arabic">
<li><p class="first">确定 <strong>子网个数</strong>，S=2</p>
</li>
<li><p class="first">确定一个 <strong>子网内可能的最多主机数量</strong>，H=30</p>
</li>
<li><p class="first">求解2^s - 2 &gt;= S的最小整数s，解得s=2，即从主机号字段 <strong>借用的比特数</strong>，用于创建子网号字段</p>
</li>
<li><p class="first">求解2^h - 2 &gt;= H的最小整数h，解得h=5，即主机号字段需要 <strong>保留的比特数</strong></p>
</li>
<li><p class="first">确定 <strong>原始</strong> 网络号字段和主机号字段的比特数，网络号字段为24，主机号字段T=8</p>
</li>
<li><p class="first">因为s + h = 2 +5 =7 &lt; 8，即借用的比特数 <strong>没有超过</strong> 被保留的比特数，问题可解</p>
</li>
<li><p class="first">由于7 &lt; 8，并且r = T - s - h = 1，因而可将 r分配给s或h，通常情况下子网的数量相比子网内主机的数量更容易耗尽，
因而将r分配给s，即s = s + r = 2 + 1 =3，此时s + h = 3 + = 8 = T</p>
</li>
<li><p class="first">创建一个自定义的 <strong>子网掩码</strong> ，默认C类地址的子网掩码为255.255.255. <strong>0</strong> ，
需要计算一个新值代替其0字节，计算256 - 2 ^ (8 - s) = 256 - 2 ^ 5 = 256 - 32 = 224（ <strong>前s位全置为1，也就是前三位全置为1</strong> ），
所以自定义子网掩码为 <strong>255.255.255.224</strong></p>
</li>
<li><p class="first">确定 <strong>有效的子网号</strong> ，运势网络地址为193.200.35. <strong>0</strong>，将2 ^ (8 - s)= 2 ^ 5 = 32加到其0字节上，
得到第一个子网的网络地址为193.200.35. <strong>32</strong>。继续在此字节上加上2 ^ (8 - s)，
直至其等于自定义的子网掩码，具体如下：</p>
<p>确定每个子网的 <strong>IP地址有效范围</strong> ，先计算第一个子网，
其地址为193.200.35. <strong>33</strong> ，
所以其有效起始地址为193.200.35. <strong>33</strong> ，
子网内可以有 2^h - 2 = 2^5 - 2 = 30个IP地址，所以结束地址为193.200.35. <strong>62</strong></p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">每个子网的有效 <strong>起始</strong> IP为 <strong>子网地址+1</strong>，
每个子网的有效 <strong>结束</strong> IP为 <strong>子网地址+子网内IP总数</strong> ，
也为 <strong>下一个子网地址-2</strong> ，中间跳过的一个IP地址为子网的 <strong>广播地址</strong></p>
</div>
</div>
<div class="section" id="section-5">
<h2>一些题目</h2>
<ol class="arabic simple">
<li>给定IP地址`167.77.88.99`和掩码`255.255.255.192`，求子网号、广播地址、有效IP地址。</li>
</ol>
<p>分析：</p>
<p>IP地址----&gt;167.77.88.99--&gt; 10100111.01001101.01011000.01100011</p>
<p>掩码--&gt;255.255.255.192--&gt;11111111.11111111.11111111.11000000</p>
<p>对应位求积--------------------&gt; 10100111.01001101.01011000.01000000--&gt; <strong>167.77.88.64</strong> （ <strong>子网号</strong> ）（就是and）</p>
<p><strong>广播地址**(子网主机全1)---&gt; 10100111.01001101.01011000.01111111--&gt;**167.77.88.127</strong></p>
<p><strong>有效IP**(除去子网本身和广播地址):**167.77.88.65~167.77.88.126</strong></p>
<ol class="arabic simple">
<li>一个子网网段地址为5.32.0.0，掩码为255.224.0.0网络，求它允许的最大主机地址。</li>
</ol>
<p>分析：</p>
<p>网段-------&gt;5.32.0.0--&gt;00000101.00100000.00000000.00000000</p>
<p>掩码--&gt;255.254.0.0--&gt;11111111.11100000.00000000.00000000--&gt;主机位为21位（0位）</p>
<p><strong>最大主机地址</strong>----------&gt;00000101.00111111.11111111.11111110--&gt;5.63.255.254 （广播地址减一，也就是子网主机全1减一）</p>
<ol class="arabic simple">
<li>188.188.0.111，188.188.5.222，子网掩码都设为255.255.254.0，在同一网段吗？</li>
</ol>
<p>分析：</p>
<p>IP1----&gt;188.188.0.111--&gt;10111100.10111100.00000000.01101111</p>
<p>IP2----&gt;188.188.5.222--&gt;10111100.10111100.00000101.11011010</p>
<p>掩码--&gt;255.255.254.0--&gt;11111111.11111111.11111110.00000000</p>
<p>IP分别与掩码作求积运算：</p>
<p>10111100.10111100.00000000.00000000</p>
<p>10111100.10111100.00000100.00000000</p>
<p><strong>网络标识不一样，即不在同一网段</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">参考::</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://link.zhihu.com/?target=https%3A//item.jd.com/12357714.html">《TCP/IP入门经典 第6版》/ 乔·卡萨德（Joe Casad）</a></li>
<li><a class="reference external" href="https://link.zhihu.com/?target=https%3A//item.jd.com/11992590.html">《计算机网络基础教程：基本概念及经典问题解析》/ 纳拉辛哈·卡鲁曼希 等</a></li>
<li><a class="reference external" href="https://blog.csdn.net/hawht/art">https://blog.csdn.net/hawht/art</a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ipv6">
<h2>IPv6地址</h2>
<p>IPv6也有特定的地址前缀用于内网/私网。主要有以下几种:</p>
<dl class="docutils">
<dt>FE80::/10 - 链路本地地址(Link-Local)</dt>
<dd><p class="first">这种地址仅在本地链路上有效,不能跨越路由器。</p>
<p class="last">用于同一网段内的设备通信。</p>
</dd>
<dt>FC00::/7 - 唯一本地地址(Unique Local Addresses, ULA)</dt>
<dd><p class="first">这种地址仅在组织内部使用,无法在公网上路由和访问。</p>
<p>类似于IPv4的私有地址(10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16)。</p>
<div class="admonition note last">
<p class="first admonition-title">注解</p>
<p>FD00::/8 属于 FC00::/7 这个更大的 IPv6 唯一本地地址前缀范围</p>
<p class="last">可以这么说, f开头的地址, 都不是公网地址</p>
</div>
</dd>
<dt>0000::/8 - 保留地址块</dt>
<dd>这个地址块被IANA保留作为特殊用途,不能分配给任何组织或设备使用。</dd>
<dt>::1/128 - 回环地址</dt>
<dd>等价于IPv4的 127.0.0.1,用于本地环回测试。</dd>
</dl>
</div>

								</article>
						</div>
					</div>
				</div>
			</section>
	</div>
</div>

				</div>
			</div>



		<!-- Sider Bar -->
		<div id="right-side-bar">
	<nav>
		<div id="top-toc-tree-container" class="fixed-container">
			<div class="toc-contents-title">
				<h4 id="toc-contents-title-text">Contents</h4>
				<!-- <span class="tool-tip-text">点击隐藏</span> -->
			</div>
			<div id="toc-tree-container">
 <ul class="toc-tree visible">
  <li class="toc-h0">
   <a class="" href="#ip-1">
    IP地址分类
   </a>
  </li>
  <li class="toc-h0">
   <a class="" href="#ip-2">
    特殊的IP地址
   </a>
  </li>
  <li class="toc-h0">
   <a class="" href="#section-1">
    子网掩码
   </a>
  </li>
  <li class="toc-h0">
   <a class="" href="#section-2">
    子网划分
   </a>
  </li>
  <li class="toc-h0">
   <a class="" href="#section-3">
    子网划分的几个步骤
   </a>
  </li>
  <li class="toc-h0">
   <a class="" href="#section-4">
    子网划分举例
   </a>
  </li>
  <li class="toc-h0">
   <a class="" href="#section-5">
    一些题目
   </a>
  </li>
  <li class="toc-h0">
   <a class="" href="#ipv6">
    IPv6地址
   </a>
  </li>
 </ul>
</div>

		</div>
	</nav>
	<div id="sidebar-tools" class="fixed-container no-active cant-select">
		<!-- 按钮 使用 content 绘制图标 -->
	</div>
	<div id="sidebar-tool-back-top" class="fixed-container cant-select">
		<!-- 按钮 使用 content 绘制图标 -->
	</div>
		</div>

		<!-- Footer Wrapper -->
			<div id="footer-wrapper">
				<!-- Footer -->
					<section id="footer" class="container">
						<div class="row">
							<div class="8u">
								<section>
									<header>
										<h2>Latest articles</h2>
									</header>
									<ul class="dates">
										<li>
											<span class="date"> 3 <strong>09</strong></span>
											<h3><a href="yq-docs-front-end-frame-amis-question-data-domain-summary.html">数据域问题总结</a></h3>
											<p><p class="first last">数据域问题总结</p>
</p>
										</li>
										<li>
											<span class="date">10 <strong>15</strong></span>
											<h3><a href="yq-docs-front-end-html-index.html">html</a></h3>
											<p><p class="first last">html</p>
</p>
										</li>
										<li>
											<span class="date">10 <strong>15</strong></span>
											<h3><a href="yq-docs-front-end-html-label.html">html标签</a></h3>
											<p><p class="first last">html标签</p>
</p>
										</li>
										<li>
											<span class="date"> 9 <strong>28</strong></span>
											<h3><a href="yq-docs-operating-system-linux-Linux-instruction-apt-clone.html">apt-clone</a></h3>
											<p><p class="first last">apt-clone</p>
</p>
										</li>
									</ul>
								</section>
							</div>
						</div>
						<div class="row">
							<div class="4u">
								<section>
									<header>
										<h2>Blogroll</h2>
									</header>
									<ul class="divided">
											<li><a href="https://yq-yqr.readthedocs.io/zh/blog-theme/blog.html">旧版(迁移中)</a></li>
											<li><a href="https://getpelican.com/">Pelican</a></li>
											<li><a href="https://www.python.org/">Python.org</a></li>
											<li><a href="https://palletsprojects.com/p/jinja/">Jinja2</a></li>
									</ul>
								</section>
							</div>
							<div class="4u">
								<section>
									<header>
										<h2>Categories</h2>
									</header>
									<ul class="divided">
											<li><a href="/category/ai.html">AI</a></li>
											<li><a href="/category/an-quan.html">安全</a></li>
											<li><a href="/category/ban-ben-kong-zhi.html">版本控制</a></li>
											<li><a href="/category/cao-zuo-xi-tong.html">操作系统</a></li>
									</ul>
								</section>
							</div>

							<div class="4u">
								<section>
									<header>
										<h2>SITEMAP</h2>
									</header>

									<ul class="divided">
												<li><a href="/authors.html">作者</a></li>
												<li><a href="/categories.html">分类</a></li>
												<li><a href="/archives.html">归档</a></li>
												<li><a href="/tags.html">标签</a></li>
									</ul>
								</section>
							</div>

							<div class="4u">

								<section>
									<header>
										<h2>Contact</h2>
									</header>
									<ul class="social">
									</ul>
								</section>
							</div>
						</div>
						<div class="row">
							<div class="12u">
								<!-- Copyright -->
									<div id="copyright">
										<ul class="links">
											<li>&copy; YanQue 2020-2024	</li>
											<!-- <li>Images: <a href="http://facebook.com/DreametryDoodle">Dreametry Doodle</a> + <a href="http://iconify.it">Iconify.it</a></li>
											<li>Design: <a href="http://html5up.net">HTML5 UP</a></li> -->
										</ul>
									</div>
							</div>
						</div>
					</section>
			</div>

		</div>

		<!-- 其他 -->

			<div style="position: fixed;">
				<!-- 深色模式粒子效果 -->
				<!-- <canvas id="universe" width="1428" height="993" data-relingo-block="true" data-relingo-parsed="true"></canvas> -->
				<!-- 深色模式下添加粒子效果canvas -->
				<canvas id="universe" width="1312" height="880"></canvas>
			</div>

		<script src="/theme/js/jquery-3.7.1.min.js"></script>
		<script src="/theme/js/jquery.dropotron.js"></script>
		<script src="/theme/js/config.js"></script>
		<script src="/theme/skel-s0.4.8/skel.min.js"></script>
		<script src="/theme/skel-s0.4.8/skel-panels.min.js"></script>
		<!-- <script src="/theme/js/skel.min.js"></script>
		<script src="/theme/js/skel-panels.min.js"></script> -->
		<script src="/theme/js/backloading.js"></script>
		<script src="/theme/js/canvas/dark.js"></script>
<script type="text/javascript">
	function addEvent() {
		$("#toc-contents-title-text").click(function() {
			$("#top-toc-tree-container").toggleClass("no-active");
			$("#sidebar-tools").toggleClass("no-active");
		})
		$("#sidebar-tools").click(function() {
			$("#top-toc-tree-container").toggleClass("no-active");
			$("#sidebar-tools").toggleClass("no-active");
		})
		$("#sidebar-tool-back-top").click(function() {
			// window.scrollTo(0, 0);
			window.scrollTo({
				top: 0,
				left: 0,
				behavior: 'smooth'
			});
		})
	}
	addEvent()
</script>
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><link rel="stylesheet" href="/theme/css/ie8.css" /><![endif]-->
	</body>
</html>